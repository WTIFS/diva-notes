##### 带缓冲 channel 是怎么判断为空的

`channel` 内部有个 `qcount` 字段，记录了队列内的元素个数。判断 `qcount == 0` 即可



##### 什么是逃逸分析？

编译器在编译时会判断一个变量的作用域有没有跑出函数范围，这个叫逃逸分析，主要是用来判断把一个变量放在栈上还是放在堆上。如果变量的作用域没有逃出函数范围，就可以分配在栈上，否则就得分配在堆上。


