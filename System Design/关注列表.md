# 关注/粉丝列表



规模：10亿用户，每个用户平均10关注

查询 QPS 10万



#### 数据库

需要两个表，关注表（查询我关注了哪些人），被关注表（查询我的粉丝）。

两个表结构相同，user_id，和 follower_id。分别按照 user_id 和 follower_id 分片。



##### 问题

需要双写两个库，如何保证一致性？