# Bitmap
将整数元素的值作为数组的下标，值为 `1`，通过这个方法来标记元素存在。

1. 只适用于整数
2. 如果只有少量数字，但这些数字很大，也会占很多空间，造成浪费（比如只有 `4000,000,000` 这 `1` 个数，然而这一个数就需要开 `40亿` 的空间）
    1. 这种情况下可以取数组最小值，用每个数字减去最小值后的值作为下标，判断时再加回来
    2. 这个思路其实有些像布隆过滤器了






# Bloom Filter

1. 将源数据 `hash` 映射成一定区间内的数值，用这个区间做 `bitmap` ，减少空间浪费
2. 如果区间较小，一定会有碰撞的情况。为减少误差，使用多个 `hash` 函数





# 布隆过滤器的误差率

假设数组长度为 `m`，`hash` 函数个数为 `k`
- 某一位被置为 `1` 的概率：
$$
1/m
$$


- 某一位没有被置为 `1` 的概率
$$
1-1/m
$$


- `k` 次 `hash` 后都没有被置为 `1` 的概率
$$
 (1-1/m)^{k}
$$

- 如果插入了 `n` 个元素，某一位仍然为 `0` 的概率:
$$
  (1-1/m)^{kn}
$$

- 该位为 `1` 的概率：（`k` 次 `hash` 都把 `0` 判定为 `1` 的概率）)
$$
[1-(1-1/m)^{kn}]^{k} ≈ (1-e^{kn/m}) ^ {k}
$$

